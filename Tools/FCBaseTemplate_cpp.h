/* This is a template file for fcdEdit.
 * To create it from sample source,  cut'n'paste the source and apply the following
 * substitutions:
 * s|\|\\|g 
 * s|"|\"|g 
 * s|^|"| 
 * s|$|",|
 */

const char *FCBaseTemplate_cpp[]={
"/*---------------------------------------------------------------------------*\\",
" *                             Kabala Engine                                 *",
" *                                                                           *",
" *                                                                           *",
" *   contact: djkabala@gmail.com                                             *",
" *                                                                           *",
"\\*---------------------------------------------------------------------------*/",
"/*---------------------------------------------------------------------------*\\",
" *                                License                                    *",
" *                                                                           *",
" * This library is free software; you can redistribute it and/or modify it   *",
" * under the terms of the GNU General Public License as published            *",
" * by the Free Software Foundation, version 3.                               *",
" *                                                                           *",
" * This library is distributed in the hope that it will be useful, but       *",
" * WITHOUT ANY WARRANTY; without even the implied warranty of                *",
" * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU         *",
" * Library General Public License for more details.                          *",
" *                                                                           *",
" * You should have received a copy of the GNU General Public                 *",
" * License along with this library; if not, write to the Free Software       *",
" * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.                 *",
" *                                                                           *",
"\\*---------------------------------------------------------------------------*/",
"/*---------------------------------------------------------------------------*\\",
" *                                Changes                                    *",
" *                                                                           *",
" *                                                                           *",
" *                                                                           *",
" *                                                                           *",
" *                                                                           *",
" *                                                                           *",
"\\*---------------------------------------------------------------------------*/",
"",
"/*****************************************************************************\\",
" *****************************************************************************",
" **                                                                         **",
" **                  This file is automatically generated.                  **",
" **                                                                         **",
" **          Any changes made to this file WILL be lost when it is          **",
" **           regenerated, which can become necessary at any time.          **",
" **                                                                         **",
" **     Do not change this file, changes should be done in the derived      **",
" **     class @!Classname!@!",
" **                                                                         **",
" *****************************************************************************",
"\\*****************************************************************************/",
"",
"",
"#define KE_COMPILE@!CLASSNAME!@INST",
"",
"#include <stdlib.h>",
"#include <stdio.h>",
"",
"#include <@!HeaderPrefix!@OSGConfig.h>",
"",
"#include \"KE@!Classname!@Base.h\"",
"#include \"KE@!Classname!@.h\"",
"",
"@@BeginFieldLoop@@",
"@@if hasDefaultHeader", 
"#include @!FieldDefaultHeader:30!@   // @!Fieldname!@ default header",
"@@endif", 
"@@EndFieldLoop@@",
"",
"OSG_BEGIN_NAMESPACE",
"",
"@@if Decorator",
"const OSG::BitVector  @!Classname!@Base::DecorateeFieldMask = ",
"    (TypeTraits<BitVector>::One << @!Classname!@Base::DecorateeFieldId);",
"const OSG::BitVector @!Classname!@Base::MTInfluenceMask = ",
"    (Inherited::MTInfluenceMask) | ",
"    (static_cast<BitVector>(@!LocalMTInfluenceMask!@) << Inherited::NextFieldId); ",
"@@else",
"@@if hasFields", 
"@@BeginFieldLoop@@",
"const OSG::BitVector  @!Classname!@Base::@!Fieldname!@FieldMask = ",
"    (TypeTraits<BitVector>::One << @!Classname!@Base::@!Fieldname!@FieldId);",
"",
"@@EndFieldLoop@@",
"@@if isRootProducer", 
"const OSG::BitVector  @!Classname!@Base::EventProducerFieldMask =",
"    (TypeTraits<BitVector>::One << @!Classname!@Base::EventProducerFieldId);",
"",
"@@endif",
"@@else",
"@@if isRootProducer", 
"const OSG::BitVector  @!Classname!@Base::EventProducerFieldMask =",
"    (TypeTraits<BitVector>::One << @!Classname!@Base::EventProducerFieldId);",
"@@endif",
"@@endif",
"const OSG::BitVector @!Classname!@Base::MTInfluenceMask = ",
"    (Inherited::MTInfluenceMask) | ",
"    (static_cast<BitVector>(@!LocalMTInfluenceMask!@) << Inherited::NextFieldId); ",
//"",
//"const OSG::UInt32        @!Classname!@Base::NextFieldId; ",
//"const OSG::BitVector     @!Classname!@Base::NextFieldMask;",
"",
"@@endif", 
"",
"@@if hasFields", 
"// Field descriptions",
"",
"@@if Decorator",
"/*! \\var @!Parent!@Ptr @!Classname!@Base::_sfDecoratee",
"    The object being decorated",
"*/",
"@@else",
"@@BeginFieldLoop@@",
"/*! \\var @!Fieldtype:15!@ @!Classname!@Base::_@!fieldname!@",
"    @!Fielddescription!@",
"*/",
"@@EndFieldLoop@@",
"@@endif",
"",
"//! @!Classname!@ description",
"",
"FieldDescription *@!Classname!@Base::_desc[] = ",
"{",
"@@if Decorator",
"    new FieldDescription(SF@!Parent!@Ptr::getClassType(), ",
"                     \"decoratee\", ",
"                     DecorateeFieldId, DecorateeFieldMask,",
"                     true,",
"                     reinterpret_cast<FieldAccessMethod>(&@!Classname!@Base::editSFDecoratee))",
"@@else",
"@@BeginFieldLoop@@",
"    new FieldDescription(@!CARDINALITY!@@!CapsFieldtypeClean!@::getClassType(), ",
"                     \"@!fieldnameDesc!@\", ",
"                     @!Fieldname!@FieldId, @!Fieldname!@FieldMask,",
"                     @!fieldvisibility!@,",
"                     reinterpret_cast<FieldAccessMethod>(&@!Classname!@Base::edit"
"@!CARDINALITY!@@!Fieldname!@))@!FieldSeparator!@",
"@@EndFieldLoop@@",
"@@endif",
"@@if isRootProducer", 
"    , ",
"    new FieldDescription(SFEventProducerPtr::getClassType(), ",
"                     \"EventProducer\", ",
"                     EventProducerFieldId,EventProducerFieldMask,",
"                     true,",
"                     reinterpret_cast<FieldAccessMethod>(&@!Classname!@Base::editSFEventProducer))",
"@@endif",
"};",
"",
"@@else",
"@@if isRootProducer", 
"//! @!Classname!@ description",
"",
"FieldDescription *@!Classname!@Base::_desc[] = ",
"{",
"    new FieldDescription(SFEventProducerPtr::getClassType(), ",
"                     \"EventProducer\", ",
"                     EventProducerFieldId,EventProducerFieldMask,",
"                     true,",
"                     reinterpret_cast<FieldAccessMethod>(&@!Classname!@Base::editSFEventProducer))",
"};",
"@@endif",
"",
"@@endif", 
"",
"FieldContainerType @!Classname!@Base::_type(",
"    \"@!Classname!@\",",
"    \"@!Parent!@\",",
"    NULL,",
"@@if abstract", 
"    NULL, ", 
"@@else", 
"    reinterpret_cast<PrototypeCreateF>(&@!Classname!@Base::createEmpty),",
"@@endif", 
"    @!Classname!@::initMethod,",
"@@if hasFields", 
"    _desc,",
"    sizeof(_desc));",
"@@else", 
"@@if isRootProducer", 
"    _desc,",
"    sizeof(_desc));",
"@@else", 
"    NULL,", 
"    0);", 
"@@endif", 
"@@endif", 
"",
"@@if hasProducedMethods", 
"//! @!Classname!@ Produced Methods",
"",
"MethodDescription *@!Classname!@Base::_methodDesc[] =",
"{",
"@@BeginProducedMethodLoop@@",
"    new MethodDescription(\"@!ProducedMethodNameDesc!@\", ",
"                     @!ProducedMethodNameDesc!@MethodId, ",
"                     SFEventPtr::getClassType(),",
"                     FunctorAccessMethod())@!FieldSeparator!@",
"@@EndProducedMethodLoop@@",
"};",
"",
"EventProducerType @!Classname!@Base::_producerType(",
"    \"@!Classname!@ProducerType\",",
"@@if isRootProducer", 
"    \"EventProducerType\",",
"@@else", 
"    \"@!ParentProducer!@ProducerType\",",
"@@endif", 
"    NULL,",
"    InitEventProducerFunctor(),",
"    _methodDesc,",
"    sizeof(_methodDesc));",
"@@endif", 

"//OSG_FIELD_CONTAINER_DEF(@!Classname!@Base, @!Classname!@Ptr)",
"",
"/*------------------------------ get -----------------------------------*/",
"",
"FieldContainerType &@!Classname!@Base::getType(void) ",
"{",
"    return _type; ",
"} ",
"",
"const FieldContainerType &@!Classname!@Base::getType(void) const ",
"{",
"    return _type;",
"} ",
"",
"@@if hasProducedMethods", 
"const EventProducerType &@!Classname!@Base::getProducerType(void) const",
"{",
"    return _producerType;",
"}",
"",
"@@endif", 
"",
"@@if !Abstract",
"FieldContainerPtr @!Classname!@Base::shallowCopy(void) const ",
"{ ",
"    @!Classname!@Ptr returnValue; ",
"",
"    newPtr(returnValue, dynamic_cast<const @!Classname!@ *>(this)); ",
"",
"    return returnValue; ",
"}",
"",
"@@endif",
"UInt32 @!Classname!@Base::getContainerSize(void) const ",
"{ ",
"    return sizeof(@!Classname!@); ",
"}",
"",
"",
"#if !defined(OSG_FIXED_MFIELDSYNC)",
"void @!Classname!@Base::executeSync(      FieldContainer &other,",
"                                    const BitVector      &whichField)",
"{",
"    this->executeSyncImpl(static_cast<@!Classname!@Base *>(&other),",
"                          whichField);", 
"}",
"#else",
"void @!Classname!@Base::executeSync(      FieldContainer &other,",
"                                    const BitVector      &whichField,"
"                                    const SyncInfo       &sInfo     )",
"{",
"    this->executeSyncImpl((@!Classname!@Base *) &other, whichField, sInfo);", 
"}",
""
"void @!Classname!@Base::execBeginEdit(const BitVector &whichField, ",
"                                            UInt32     uiAspect,",
"                                            UInt32     uiContainerSize) ",
"{",
"    this->execBeginEditImpl(whichField, uiAspect, uiContainerSize);",
"}",
"",
"void @!Classname!@Base::onDestroyAspect(UInt32 uiId, UInt32 uiAspect)",
"{",
"    Inherited::onDestroyAspect(uiId, uiAspect);",
"",
"@@BeginMFFieldLoop@@",
"    _@!fieldname!@.terminateShare(uiAspect, this->getContainerSize());",
"@@EndMFFieldLoop@@",
"}",
"#endif",
"",
"/*------------------------- constructors ----------------------------------*/",
"",
"#ifdef OSG_WIN32_ICL",
"#pragma warning (disable : 383)",
"#endif",
"",
"@!Classname!@Base::@!Classname!@Base(void) :",
"@@if isRootProducer", 
"    _Producer(&getProducerType()),",
"@@endif",
"@@if Decorator",
"    _sfDecoratee(),",
"@@else",
"@@BeginFieldLoop@@",
"    _@!fieldname:25!@(@!FieldTypedDefault!@), ",
"@@EndFieldLoop@@",
"@@endif",
"@@if isRootProducer", 
"    _sfEventProducer(&_Producer),",
"@@endif",
"    Inherited() ",
"{",
"@@if hasProducedMethods", 
"@@if !isRootProducer", 
"    _Producer.setType(&_producerType);",
"@@endif",
"@@endif",
"}",
"",
"#ifdef OSG_WIN32_ICL",
"#pragma warning (default : 383)",
"#endif",
"",
"@!Classname!@Base::@!Classname!@Base(const @!Classname!@Base &source) :",
"@@if isRootProducer", 
"    _Producer(&source.getProducerType()),",
"@@endif",
"@@if Decorator",
"    _sfDecoratee(source._sfDecoratee),",
"@@else",
"@@BeginFieldLoop@@",
"    _@!fieldname:25!@(source._@!fieldname:25!@), ",
"@@EndFieldLoop@@",
"@@endif",
"@@if isRootProducer", 
"    _sfEventProducer(&_Producer),",
"@@endif",
"    Inherited                 (source)",
"{",
"}",
"",
"/*-------------------------- destructors ----------------------------------*/",
"",
"@!Classname!@Base::~@!Classname!@Base(void)",
"{",
"}",
"",
"/*------------------------------ access -----------------------------------*/",
"",
"UInt32 @!Classname!@Base::getBinSize(const BitVector &whichField)",
"{",
"    UInt32 returnValue = Inherited::getBinSize(whichField);",
"",
"@@if Decorator",
"    if(FieldBits::NoField != (DecorateeFieldMask & whichField))",
"    {",
"        returnValue += _sfDecoratee.getBinSize();",
"    }",
"@@else",
"@@BeginFieldLoop@@",
"    if(FieldBits::NoField != (@!Fieldname!@FieldMask & whichField))",
"    {",
"        returnValue += _@!fieldname!@.getBinSize();",
"    }",
"",
"@@EndFieldLoop@@",
"@@if isRootProducer", 
"    if(FieldBits::NoField != (EventProducerFieldMask & whichField))",
"    {",
"        returnValue += _sfEventProducer.getBinSize();",
"    }",
"",
"@@endif",
"@@endif",
"",
"    return returnValue;",
"}",
"",
"void @!Classname!@Base::copyToBin(      BinaryDataHandler &pMem,",
"                                  const BitVector         &whichField)",
"{",
"    Inherited::copyToBin(pMem, whichField);",
"",
"@@if Decorator",
"    if(FieldBits::NoField != (DecorateeFieldMask & whichField))",
"    {",
"        _sfDecoratee.copyToBin(pMem);",
"    }",
"@@else",
"@@BeginFieldLoop@@",
"    if(FieldBits::NoField != (@!Fieldname!@FieldMask & whichField))",
"    {",
"        _@!fieldname!@.copyToBin(pMem);",
"    }",
"",
"@@EndFieldLoop@@",
"@@if isRootProducer", 
"    if(FieldBits::NoField != (EventProducerFieldMask & whichField))",
"    {",
"        _sfEventProducer.copyToBin(pMem);",
"    }",
"",
"@@endif",
"@@endif",
"",
"}",
"",
"void @!Classname!@Base::copyFromBin(      BinaryDataHandler &pMem,",
"                                    const BitVector    &whichField)",
"{",
"    Inherited::copyFromBin(pMem, whichField);",
"",
"@@if Decorator",
"    if(FieldBits::NoField != (DecorateeFieldMask & whichField))",
"    {",
"        _sfDecoratee.copyFromBin(pMem);",
"    }",
"@@else",
"@@BeginFieldLoop@@",
"    if(FieldBits::NoField != (@!Fieldname!@FieldMask & whichField))",
"    {",
"        _@!fieldname!@.copyFromBin(pMem);",
"    }",
"",
"@@EndFieldLoop@@",
"@@if isRootProducer", 
"    if(FieldBits::NoField != (EventProducerFieldMask & whichField))",
"    {",
"        _sfEventProducer.copyFromBin(pMem);",
"    }",
"",
"@@endif",
"@@endif",
"",
"}",
"",
"#if !defined(OSG_FIXED_MFIELDSYNC)",
"void @!Classname!@Base::executeSyncImpl(      @!Classname!@Base *pOther,",
"                                        const BitVector         &whichField)",
"{",
"",
"    Inherited::executeSyncImpl(pOther, whichField);",
"",
"@@if Decorator",
"    if(FieldBits::NoField != (DecorateeFieldMask & whichField))",
"    {",
"        _sfDecoratee.syncWith(pOther->_sfDecoratee);",
"    }",
"@@else",
"@@BeginFieldLoop@@",
"    if(FieldBits::NoField != (@!Fieldname!@FieldMask & whichField))",
"        _@!fieldname!@.syncWith(pOther->_@!fieldname!@);",
"",
"@@EndFieldLoop@@",
"@@if isRootProducer", 
"    if(FieldBits::NoField != (EventProducerFieldMask & whichField))",
"        _sfEventProducer.syncWith(pOther->_sfEventProducer);",
"",
"@@endif",
"@@endif",
"",
"}",
"#else",
"void @!Classname!@Base::executeSyncImpl(      @!Classname!@Base *pOther,",
"                                        const BitVector         &whichField,",
"                                        const SyncInfo          &sInfo      )",
"{",
"",
"    Inherited::executeSyncImpl(pOther, whichField, sInfo);",
"",
"@@if Decorator",
"    if(FieldBits::NoField != (DecorateeFieldMask & whichField))",
"    {",
"        _sfDecoratee.syncWith(pOther->_sfDecoratee);",
"    }",
"@@else",
"@@BeginSFFieldLoop@@",
"    if(FieldBits::NoField != (@!Fieldname!@FieldMask & whichField))",
"        _@!fieldname!@.syncWith(pOther->_@!fieldname!@);",
"",
"@@EndSFFieldLoop@@",
"",
"@@BeginMFFieldLoop@@",
"    if(FieldBits::NoField != (@!Fieldname!@FieldMask & whichField))",
"        _@!fieldname!@.syncWith(pOther->_@!fieldname!@, sInfo);",
"",
"@@EndMFFieldLoop@@",
"@@endif",
"",
"}",
"",
"void @!Classname!@Base::execBeginEditImpl (const BitVector &whichField, ",
"                                                 UInt32     uiAspect,",
"                                                 UInt32     uiContainerSize)",
"{",
"    Inherited::execBeginEditImpl(whichField, uiAspect, uiContainerSize);",
"",
"@@BeginMFFieldLoop@@",
"    if(FieldBits::NoField != (@!Fieldname!@FieldMask & whichField))",
"        _@!fieldname!@.beginEdit(uiAspect, uiContainerSize);",
"",
"@@EndMFFieldLoop@@",
"}",
"#endif",
"",
"@@if isDecoratable",
"/*------------------------------ get -----------------------------------*/",
"", 
"@@BeginFieldLoop@@",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"const @!CARDINALITY!@@!CapsFieldtypeClean!@ *@!Classname!@Base::get"
"@!CARDINALITY!@@!Fieldname!@(void) const",
"{",
"    return &_@!fieldname!@;",
"}",
"",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"@!CARDINALITY!@@!CapsFieldtypeClean!@ *@!Classname!@Base::edit"
"@!CARDINALITY!@@!Fieldname!@(void)",
"{",
"    return &_@!fieldname!@;",
"}",
"",
"",
"@@EndFieldLoop@@",
"",
"@@BeginSFFieldLoop@@",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"@!Fieldtype!@ &@!Classname!@Base::edit@!Fieldname!@(void)",
"{",
"    return _@!fieldname!@.getValue();",
"}",
"",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"const @!Fieldtype!@ &@!Classname!@Base::get@!Fieldname!@(void) const",
"{",
"    return _@!fieldname!@.getValue();",
"}",
"",
"#ifndef OSG_2_PREP",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"void @!Classname!@Base::set@!Fieldname!@(const @!Fieldtype!@ &value)",
"{",
"    _@!fieldname!@.setValue(value);",
"}",
"",
"@@EndSFFieldLoop@@",
"",
"@@BeginMFFieldLoop@@",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"const @!Fieldtype!@ &@!Classname!@Base::get@!Fieldname!@(UInt32 index) const",
"{",
"    return _@!fieldname!@.getValue( index );",
"}",
"",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"@!Fieldtype!@ &@!Classname!@Base::edit@!Fieldname!@(UInt32 index)",
"{",
"    return _@!fieldname!@.getValue( index );",
"}",
"",
"KE_@!LIBNAME!@LIB_DLLMAPPING",
"@!CARDINALITY!@@!CapsFieldtypeClean!@ &@!Classname!@Base::get@!Fieldname!@(void)",
"{",
"    return _@!fieldname!@;",
"}",
"#endif",
"",
"@@EndMFFieldLoop@@",
"@@endif",
"",
"@@if Pointerfield",
"",
"OSG_END_NAMESPACE",
"",
"@@if SFPointerfield",
"#include <@!HeaderPrefix!@OSGSFieldTypeDef.inl>",
"@@endif",
"@@if MFPointerfield",
"#include <@!HeaderPrefix!@OSGMFieldTypeDef.inl>",
"@@endif",
"",
"OSG_BEGIN_NAMESPACE",
"@@endif",
"",
"#if !defined(OSG_DO_DOC) || defined(OSG_DOC_DEV)",
"DataType FieldDataTraits<@!Classname!@Ptr>::_type(\"@!Classname!@Ptr\", \"@!Parent!@Ptr\");",
"#endif",
"",
"@@if Pointerfield",
"@@if SFPointerfield",
"@@if Library",
"OSG_DLLEXPORT_SFIELD_DEF1(@!Classname!@Ptr, KE_@!LIBNAME!@LIB_DLLTMPLMAPPING);",
"@@else",
"OSG_DLLEXPORT_SFIELD_DEF1(@!Classname!@Ptr, );",
"@@endif",
"@@endif",
"@@if MFPointerfield",
"@@if Library",
"OSG_DLLEXPORT_MFIELD_DEF1(@!Classname!@Ptr, KE_@!LIBNAME!@LIB_DLLTMPLMAPPING);",
"@@else",
"OSG_DLLEXPORT_MFIELD_DEF1(@!Classname!@Ptr, );",
"@@endif",
"@@endif",
"@@endif",
"",
"",
"OSG_END_NAMESPACE",
"",
NULL };
